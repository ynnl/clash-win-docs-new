(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{330:function(e,a,t){"use strict";t.r(a);var s=t(10),r=Object(s.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[e._v("#")]),e._v(" 常见问题")]),e._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#general-加载失败-显示-failed-to-clash-core-logs-are-not-available"}},[e._v("General 加载失败，显示“failed to clash core, logs are not available.”")])]),a("li",[a("a",{attrs:{href:"#macos-无法设置-system-proxy-系统代理项目灰色无法更改"}},[e._v("macOS 无法设置 System Proxy，系统代理项目灰色无法更改")])]),a("li",[a("a",{attrs:{href:"#service-mode-无法安装"}},[e._v("Service Mode 无法安装")])]),a("li",[a("a",{attrs:{href:"#macos-版本启动要求授权"}},[e._v("macOS 版本启动要求授权")])]),a("li",[a("a",{attrs:{href:"#macos-dmg-安装后无法打开-提示损坏"}},[e._v("macOS DMG 安装后无法打开，提示损坏")])]),a("li",[a("a",{attrs:{href:"#系统代理自动关闭或打开"}},[e._v("系统代理自动关闭或打开")])]),a("li",[a("a",{attrs:{href:"#general-端口显示为-0"}},[e._v("General 端口显示为 0")])]),a("li",[a("a",{attrs:{href:"#killer-系列网卡无法开启-tap-tun-模式"}},[e._v("Killer 系列网卡无法开启 TAP/TUN 模式")])]),a("li",[a("a",{attrs:{href:"#在-windows-系统中-使用-system-作为-tun-stack-时-clash-网卡无法正常工作"}},[e._v("在 Windows 系统中，使用 system 作为 TUN stack 时，Clash 网卡无法正常工作")])]),a("li",[a("a",{attrs:{href:"#在-windows-系统中-tun-模式下无法使用热点分享功能"}},[e._v("在 Windows 系统中，TUN 模式下无法使用热点分享功能")])]),a("li",[a("a",{attrs:{href:"#软件启动时-tun-创建网卡失败-提示-start-tun-interface-error-error-creating-interface-cannot-create-a-file-when-that-file-already-exists-windows"}},[e._v("软件启动时，TUN 创建网卡失败，提示 Start Tun interface error: error creating interface: Cannot create a file when that file already exists.（Windows）")])]),a("li",[a("a",{attrs:{href:"#为什么更新到最新版本后-service-mode-后面的地球变红了"}},[e._v("为什么更新到最新版本后 Service Mode 后面的地球变红了？")])])])]),a("p"),e._v(" "),a("h3",{attrs:{id:"general-加载失败-显示-failed-to-clash-core-logs-are-not-available"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#general-加载失败-显示-failed-to-clash-core-logs-are-not-available"}},[e._v("#")]),e._v(" General 加载失败，显示“failed to clash core, logs are not available.”")]),e._v(" "),a("question-answer",[a("p",[e._v("将安装目录添加到杀毒软件白名单。")]),e._v(" "),a("p",[e._v("如 Windows Defender 开启，则需要将安装目录添加到"),a("a",{attrs:{href:"https://support.microsoft.com/zh-cn/windows/%E5%B0%86%E6%8E%92%E9%99%A4%E9%A1%B9%E6%B7%BB%E5%8A%A0%E5%88%B0-windows-%E5%AE%89%E5%85%A8%E4%B8%AD%E5%BF%83-811816c0-4dfd-af4a-47e4-c301afe13b26#:~:text=%E4%BE%9D%E6%AC%A1%E8%BD%AC%E5%88%B0%E2%80%9C%E5%BC%80%E5%A7%8B%E2%80%9D%E8%8F%9C%E5%8D%95,%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%90%E6%96%87%E4%BB%B6%E5%A4%B9%E3%80%82",target:"_blank",rel:"noopener noreferrer"}},[e._v("排除项"),a("OutboundLink")],1),e._v("中")])]),e._v(" "),a("h3",{attrs:{id:"macos-无法设置-system-proxy-系统代理项目灰色无法更改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#macos-无法设置-system-proxy-系统代理项目灰色无法更改"}},[e._v("#")]),e._v(" macOS 无法设置 System Proxy，系统代理项目灰色无法更改")]),e._v(" "),a("question-answer",[a("ol",[a("li",[e._v("进入"),a("strong",[e._v("设置")])]),e._v(" "),a("li",[e._v("选择"),a("strong",[e._v("安全与隐私")])]),e._v(" "),a("li",[e._v("选择"),a("strong",[e._v("通用")])]),e._v(" "),a("li",[e._v("点击"),a("strong",[e._v("解锁按钮")]),e._v("，输入密码")]),e._v(" "),a("li",[e._v("点击"),a("strong",[e._v("高级...")])]),e._v(" "),a("li",[e._v("取消"),a("strong",[e._v("访问系统范围的偏好设置需要输入管理员密码")]),e._v("选项")])])]),e._v(" "),a("h3",{attrs:{id:"service-mode-无法安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#service-mode-无法安装"}},[e._v("#")]),e._v(" Service Mode 无法安装")]),e._v(" "),a("question-answer",[a("h4",{attrs:{id:"windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[e._v("#")]),e._v(" Windows")]),e._v(" "),a("p",[e._v("先确定系统安装了"),a("code",[e._v(".NET framework runtime")])]),e._v(" "),a("p",[e._v("然后尝试手动安装：")]),e._v(" "),a("ol",[a("li",[e._v("打开 "),a("code",[e._v("C:/Program Files")]),e._v(" 目录，新建 "),a("code",[e._v("Clash for Windows Service")]),e._v(" 目录")]),e._v(" "),a("li",[e._v("进入 "),a("code",[e._v("安装目录/resources/static/files/win/[x64|arm64|ia32]/service")]),e._v(" 目录，拷贝里面两个 exe 文件到 1 中新建目录中")]),e._v(" "),a("li",[e._v("进入 "),a("code",[e._v("安装目录/resources/static/files/win/common")]),e._v(" 目录，拷贝 "),a("code",[e._v("service.yml")]),e._v(" 文件到 1 中新建目录中")]),e._v(" "),a("li",[e._v("在 1 中新建目录中，使用管理员权限打开 CMD 执行一下命令："),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("service.exe install\nservice.exe start\n")])])])])]),e._v(" "),a("p",[e._v("如果 install 时出现如下提示：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Service with id 'Clash Core Service' already exists\nTo install the service, delete the existing one or change service Id in the configuration file\n2022-09-26 09:37:32,316 FATAL - Unhandled exception\nSystem.Exception: Installation failure: Service with id 'Clash Core Service' already exists\n   at WinSW.Program.<Run>g__Install|2_0(<>c__DisplayClass2_0& )\n   at WinSW.Program.Run(String[] argsArray, IWinSWConfiguration descriptor)\n   at WinSW.Program.Main(String[] args)\nSystem.Exception: Installation failure: Service with id 'Clash Core Service' already exists\n   at WinSW.Program.<Run>g__Install|2_0(<>c__DisplayClass2_0& )\n   at WinSW.Program.Run(String[] argsArray, IWinSWConfiguration descriptor)\n   at WinSW.Program.Main(String[] args)\n")])])]),a("p",[e._v("可以先执行：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("service.exe stop\nservice.exe uninstall\n")])])]),a("p",[e._v("如果安装后，Service Mode manage 里显示 active 但图标显示红色，可以进入 "),a("code",[e._v("Home Directory")]),e._v(" 管理员启动 CMD，执行 "),a("code",[e._v("icacls.exe service /remove:d Everyone")]),e._v(" 后手动删除 service 文件夹，重启 APP 即可")]),e._v(" "),a("outdated",{attrs:{since:"0.20.0"}},[e._v("\n1. 点击 General 中的 Home Directory 打开文件夹，进入 service 子目录中\n2. 打开 CMD，执行以下命令：\n"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("service.exe install\nservice.exe start\n")])])]),a("p",[e._v("如安装出现错误，参考"),a("a",{attrs:{href:"https://github.com/Fndroid/clash_for_windows_pkg/issues/1627",target:"_blank",rel:"noopener noreferrer"}},[e._v("这个 issue"),a("OutboundLink")],1)])]),e._v(" "),a("h4",{attrs:{id:"macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#macos"}},[e._v("#")]),e._v(" macOS")]),e._v(" "),a("ol",[a("li",[e._v("打开终端")]),e._v(" "),a("li",[e._v("运行以下命令："),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" https://gist.githubusercontent.com/Fndroid/2119fcb5ccb5a543a8f6a609418ae43f/raw/ff63615309a9b3f3e1d682fc29bc73284816422e/mac.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" cfw-tun.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +x cfw-tun.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ./cfw-tun.sh "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v(" cfw-tun.sh\n")])])]),e._v("如要卸载则将 install 改为 uninstall")])]),e._v(" "),a("h4",{attrs:{id:"linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[e._v("#")]),e._v(" linux")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/Fndroid/clash_for_windows_pkg/issues/3464",target:"_blank",rel:"noopener noreferrer"}},[e._v("参考"),a("OutboundLink")],1)])],1),e._v(" "),a("h3",{attrs:{id:"macos-版本启动要求授权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#macos-版本启动要求授权"}},[e._v("#")]),e._v(" macOS 版本启动要求授权")]),e._v(" "),a("question-answer",[a("p",[e._v("在第一次或更新 APP 后打开软件会提示用户授权，这是因为需要安装/更新用于设置系统代理的工具，如果不进行授权，General 中的 System Proxy 开关将无法打开。一般情况下，除非工具更新，否则除了第一次启动外不会重复需要授权。")])]),e._v(" "),a("h3",{attrs:{id:"macos-dmg-安装后无法打开-提示损坏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#macos-dmg-安装后无法打开-提示损坏"}},[e._v("#")]),e._v(" macOS DMG 安装后无法打开，提示损坏")]),e._v(" "),a("question-answer",[a("p",[e._v("网络下载应用被 Apple 添加隔离标识，终端输入命令解除即可：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo xattr -r -d com.apple.quarantine /Applications/Clash\\ for\\ Windows.app\n")])])])]),e._v(" "),a("h3",{attrs:{id:"系统代理自动关闭或打开"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统代理自动关闭或打开"}},[e._v("#")]),e._v(" 系统代理自动关闭或打开")]),e._v(" "),a("question-answer",[a("p",[a("a",{attrs:{href:"https://github.com/Fndroid/clash_for_windows_pkg/issues/312",target:"_blank",rel:"noopener noreferrer"}},[e._v("参考"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"general-端口显示为-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#general-端口显示为-0"}},[e._v("#")]),e._v(" General 端口显示为 0")]),e._v(" "),a("question-answer",[a("p",[a("a",{attrs:{href:"https://github.com/Fndroid/clash_for_windows_pkg/issues/671",target:"_blank",rel:"noopener noreferrer"}},[e._v("参考"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"killer-系列网卡无法开启-tap-tun-模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#killer-系列网卡无法开启-tap-tun-模式"}},[e._v("#")]),e._v(" Killer 系列网卡无法开启 TAP/TUN 模式")]),e._v(" "),a("question-answer",[a("p",[a("a",{attrs:{href:"https://github.com/Fndroid/clash_for_windows_pkg/issues/1243#issuecomment-751165537",target:"_blank",rel:"noopener noreferrer"}},[e._v("参考"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"在-windows-系统中-使用-system-作为-tun-stack-时-clash-网卡无法正常工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-windows-系统中-使用-system-作为-tun-stack-时-clash-网卡无法正常工作"}},[e._v("#")]),e._v(" 在 Windows 系统中，使用 system 作为 TUN stack 时，Clash 网卡无法正常工作")]),e._v(" "),a("question-answer",[a("p",[e._v("请在系统防火墙中将 clash core 放行。方法参考 "),a("a",{attrs:{href:"https://docs.cfw.lbyczf.com/contents/tun.html#windows",target:"_blank",rel:"noopener noreferrer"}},[e._v("TUN 模式说明"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"在-windows-系统中-tun-模式下无法使用热点分享功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-windows-系统中-tun-模式下无法使用热点分享功能"}},[e._v("#")]),e._v(" 在 Windows 系统中，TUN 模式下无法使用热点分享功能")]),e._v(" "),a("question-answer",[a("ol",[a("li",[e._v("开启热点分享功能，此时系统网络设置中会生成一个网卡")]),e._v(" "),a("li",[e._v("开启 TUN 模式")]),e._v(" "),a("li",[e._v("进入系统网络设置，在 Clash 网卡右键选择属性，选择共享标签页")]),e._v(" "),a("li",[e._v("勾选“允许其他网络用户通过此计算机的 Internet 连接来连接”")]),e._v(" "),a("li",[e._v("在“家庭网络连接”选择框中选择第 1 步生成的网卡")])])]),e._v(" "),a("h3",{attrs:{id:"软件启动时-tun-创建网卡失败-提示-start-tun-interface-error-error-creating-interface-cannot-create-a-file-when-that-file-already-exists-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#软件启动时-tun-创建网卡失败-提示-start-tun-interface-error-error-creating-interface-cannot-create-a-file-when-that-file-already-exists-windows"}},[e._v("#")]),e._v(" 软件启动时，TUN 创建网卡失败，提示 Start Tun interface error: error creating interface: Cannot create a file when that file already exists.（Windows）")]),e._v(" "),a("question-answer",[a("p",[e._v("临时解决方法：")]),e._v(" "),a("ol",[a("li",[e._v("进入 Home Directory")]),e._v(" "),a("li",[e._v("编辑 config.yaml，添加如下配置："),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("7890")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ...")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 添加下面这段👇")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("tun")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("stack")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" gvisor\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("auto-route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("false")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("auto-detect-interface")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n")])])])]),e._v(" "),a("li",[e._v("重启 CFW")])])]),e._v(" "),a("h3",{attrs:{id:"为什么更新到最新版本后-service-mode-后面的地球变红了"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么更新到最新版本后-service-mode-后面的地球变红了"}},[e._v("#")]),e._v(" 为什么更新到最新版本后 Service Mode 后面的地球变红了？")]),e._v(" "),a("question-answer",[a("p",[e._v("在更新到 "),a("code",[e._v("v0.20.0")]),e._v(" 后， "),a("code",[e._v("Service Mode")]),e._v(" 的安全性有所提高，因此在从 "),a("code",[e._v("v0.19.29")]),e._v(" 及以下版本更新到此版本时, "),a("code",[e._v("Service Mode")]),e._v(" 后面的地球图标可能会显示为红色，请在 Manage 中选择 "),a("code",[e._v("Update")]),e._v(" 或重新安装 TUN 网卡来消除此问题")])])],1)}),[],!1,null,null,null);a.default=r.exports}}]);