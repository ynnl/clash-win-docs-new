<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常见问题 | Clash for Windows</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="by Fndroid">
    
    <link rel="preload" href="/assets/css/0.styles.7652b73b.css" as="style"><link rel="preload" href="/assets/js/app.cc8203df.js" as="script"><link rel="preload" href="/assets/js/3.0b6bb79a.js" as="script"><link rel="preload" href="/assets/js/38.01de9e8e.js" as="script"><link rel="preload" href="/assets/js/9.f2385138.js" as="script"><link rel="preload" href="/assets/js/8.031107e6.js" as="script"><link rel="prefetch" href="/assets/js/10.9b7dffd2.js"><link rel="prefetch" href="/assets/js/11.80d13c79.js"><link rel="prefetch" href="/assets/js/12.8ad0b4e8.js"><link rel="prefetch" href="/assets/js/13.e2ed5253.js"><link rel="prefetch" href="/assets/js/14.5ef92803.js"><link rel="prefetch" href="/assets/js/15.ebb1e538.js"><link rel="prefetch" href="/assets/js/16.f3ab7640.js"><link rel="prefetch" href="/assets/js/17.eea1d514.js"><link rel="prefetch" href="/assets/js/18.68e7f37f.js"><link rel="prefetch" href="/assets/js/19.3ffb2a3c.js"><link rel="prefetch" href="/assets/js/20.dd4d82b2.js"><link rel="prefetch" href="/assets/js/21.7a7863cd.js"><link rel="prefetch" href="/assets/js/22.784fa923.js"><link rel="prefetch" href="/assets/js/23.9fe9d026.js"><link rel="prefetch" href="/assets/js/24.4f16a80e.js"><link rel="prefetch" href="/assets/js/25.3203b69e.js"><link rel="prefetch" href="/assets/js/26.abbf9d68.js"><link rel="prefetch" href="/assets/js/27.604eb8b2.js"><link rel="prefetch" href="/assets/js/28.70a04ebf.js"><link rel="prefetch" href="/assets/js/29.620e45ef.js"><link rel="prefetch" href="/assets/js/30.c8d8dd1a.js"><link rel="prefetch" href="/assets/js/31.cdb5a62b.js"><link rel="prefetch" href="/assets/js/32.f51a6674.js"><link rel="prefetch" href="/assets/js/33.a17a1c13.js"><link rel="prefetch" href="/assets/js/34.7f35a106.js"><link rel="prefetch" href="/assets/js/35.fcdaa723.js"><link rel="prefetch" href="/assets/js/36.67ae5241.js"><link rel="prefetch" href="/assets/js/37.5da0e883.js"><link rel="prefetch" href="/assets/js/39.54f9e739.js"><link rel="prefetch" href="/assets/js/4.c2d02a7b.js"><link rel="prefetch" href="/assets/js/40.47dd05a9.js"><link rel="prefetch" href="/assets/js/41.cad04c41.js"><link rel="prefetch" href="/assets/js/42.d20369b6.js"><link rel="prefetch" href="/assets/js/43.4f6e198e.js"><link rel="prefetch" href="/assets/js/44.b0cfb126.js"><link rel="prefetch" href="/assets/js/45.f07223b1.js"><link rel="prefetch" href="/assets/js/5.3d17ac29.js"><link rel="prefetch" href="/assets/js/6.7043271e.js"><link rel="prefetch" href="/assets/js/7.1fdd665f.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.85e73829.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7652b73b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Clash for Windows</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/Fndroid/clash_for_windows_pkg/releases/latest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download the Latest APP
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/Fndroid/clash-win-docs-new" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/Fndroid/clash_for_windows_pkg/releases/latest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download the Latest APP
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/Fndroid/clash-win-docs-new" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/" class="sidebar-heading clickable router-link-active open"><span>Clash for Windows</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/contents/quickstart.html" class="sidebar-link">快速上手</a></li><li><a href="/contents/configfile.html" class="sidebar-link">配置文件</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/contents/ui" class="sidebar-heading clickable"><span>界面组成</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/contents/urlscheme.html" class="sidebar-link">URL Scheme</a></li><li><a href="/contents/bypass.html" class="sidebar-link">绕过系统代理</a></li><li><a href="/contents/breakconn.html" class="sidebar-link">打断连接</a></li><li><a href="/contents/7z.html" class="sidebar-link">便携模式</a></li><li><a href="/contents/tun.html" class="sidebar-link">TUN 模式</a></li><li><a href="/contents/tap.html" class="sidebar-link">TAP 模式</a></li><li><a href="/contents/mixin.html" class="sidebar-link">Mixin</a></li><li><a href="/contents/parser.html" class="sidebar-link">配置文件预处理</a></li><li><a href="/contents/actions.html" class="sidebar-link">Actions</a></li><li><a href="/contents/diff.html" class="sidebar-link">Diff 处理</a></li><li><a href="/contents/lightweight.html" class="sidebar-link">轻量模式（Lightweight Mode）</a></li><li><a href="/contents/dhcp.html" class="sidebar-link">DHCP 服务端</a></li><li><a href="/contents/tray.html" class="sidebar-link">Enhanced Tray</a></li><li><a href="/contents/profilespath.html" class="sidebar-link">自定义配置目录</a></li><li><a href="/contents/childprocess.html" class="sidebar-link">启动其他应用</a></li><li><a href="/contents/trayicon.html" class="sidebar-link">自定义状态栏图标</a></li><li><a href="/contents/font.html" class="sidebar-link">自定义字体</a></li><li><a href="/contents/proxyorder.html" class="sidebar-link">自定义节点排序</a></li><li><a href="/contents/header.html" class="sidebar-link">自定义请求头</a></li><li><a href="/contents/questions.html" aria-current="page" class="active sidebar-link">常见问题</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h1> <p></p><div class="table-of-contents"><ul><li><a href="#general-加载失败-显示-failed-to-clash-core-logs-are-not-available">General 加载失败，显示“failed to clash core, logs are not available.”</a></li><li><a href="#macos-无法设置-system-proxy-系统代理项目灰色无法更改">macOS 无法设置 System Proxy，系统代理项目灰色无法更改</a></li><li><a href="#service-mode-无法安装">Service Mode 无法安装</a></li><li><a href="#macos-版本启动要求授权">macOS 版本启动要求授权</a></li><li><a href="#macos-dmg-安装后无法打开-提示损坏">macOS DMG 安装后无法打开，提示损坏</a></li><li><a href="#系统代理自动关闭或打开">系统代理自动关闭或打开</a></li><li><a href="#general-端口显示为-0">General 端口显示为 0</a></li><li><a href="#killer-系列网卡无法开启-tap-tun-模式">Killer 系列网卡无法开启 TAP/TUN 模式</a></li><li><a href="#在-windows-系统中-使用-system-作为-tun-stack-时-clash-网卡无法正常工作">在 Windows 系统中，使用 system 作为 TUN stack 时，Clash 网卡无法正常工作</a></li><li><a href="#在-windows-系统中-tun-模式下无法使用热点分享功能">在 Windows 系统中，TUN 模式下无法使用热点分享功能</a></li><li><a href="#软件启动时-tun-创建网卡失败-提示-start-tun-interface-error-error-creating-interface-cannot-create-a-file-when-that-file-already-exists-windows">软件启动时，TUN 创建网卡失败，提示 Start Tun interface error: error creating interface: Cannot create a file when that file already exists.（Windows）</a></li><li><a href="#为什么更新到最新版本后-service-mode-后面的地球变红了">为什么更新到最新版本后 Service Mode 后面的地球变红了？</a></li></ul></div><p></p> <h3 id="general-加载失败-显示-failed-to-clash-core-logs-are-not-available"><a href="#general-加载失败-显示-failed-to-clash-core-logs-are-not-available" class="header-anchor">#</a> General 加载失败，显示“failed to clash core, logs are not available.”</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd>将安装目录添加到杀毒软件白名单。</p> <p data-v-2fb828fd>如 Windows Defender 开启，则需要将安装目录添加到<a href="https://support.microsoft.com/zh-cn/windows/%E5%B0%86%E6%8E%92%E9%99%A4%E9%A1%B9%E6%B7%BB%E5%8A%A0%E5%88%B0-windows-%E5%AE%89%E5%85%A8%E4%B8%AD%E5%BF%83-811816c0-4dfd-af4a-47e4-c301afe13b26#:~:text=%E4%BE%9D%E6%AC%A1%E8%BD%AC%E5%88%B0%E2%80%9C%E5%BC%80%E5%A7%8B%E2%80%9D%E8%8F%9C%E5%8D%95,%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%90%E6%96%87%E4%BB%B6%E5%A4%B9%E3%80%82" target="_blank" rel="noopener noreferrer" data-v-2fb828fd>排除项<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中</p></div> <h3 id="macos-无法设置-system-proxy-系统代理项目灰色无法更改"><a href="#macos-无法设置-system-proxy-系统代理项目灰色无法更改" class="header-anchor">#</a> macOS 无法设置 System Proxy，系统代理项目灰色无法更改</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <ol data-v-2fb828fd><li data-v-2fb828fd>进入<strong data-v-2fb828fd>设置</strong></li> <li data-v-2fb828fd>选择<strong data-v-2fb828fd>安全与隐私</strong></li> <li data-v-2fb828fd>选择<strong data-v-2fb828fd>通用</strong></li> <li data-v-2fb828fd>点击<strong data-v-2fb828fd>解锁按钮</strong>，输入密码</li> <li data-v-2fb828fd>点击<strong data-v-2fb828fd>高级...</strong></li> <li data-v-2fb828fd>取消<strong data-v-2fb828fd>访问系统范围的偏好设置需要输入管理员密码</strong>选项</li></ol></div> <h3 id="service-mode-无法安装"><a href="#service-mode-无法安装" class="header-anchor">#</a> Service Mode 无法安装</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <h4 id="windows" data-v-2fb828fd><a href="#windows" class="header-anchor" data-v-2fb828fd>#</a> Windows</h4> <p data-v-2fb828fd>先确定系统安装了<code data-v-2fb828fd>.NET framework runtime</code></p> <p data-v-2fb828fd>然后尝试手动安装：</p> <ol data-v-2fb828fd><li data-v-2fb828fd>打开 <code data-v-2fb828fd>C:/Program Files</code> 目录，新建 <code data-v-2fb828fd>Clash for Windows Service</code> 目录</li> <li data-v-2fb828fd>进入 <code data-v-2fb828fd>安装目录/resources/static/files/win/[x64|arm64|ia32]/service</code> 目录，拷贝里面两个 exe 文件到 1 中新建目录中</li> <li data-v-2fb828fd>进入 <code data-v-2fb828fd>安装目录/resources/static/files/win/common</code> 目录，拷贝 <code data-v-2fb828fd>service.yml</code> 文件到 1 中新建目录中</li> <li data-v-2fb828fd>在 1 中新建目录中，使用管理员权限打开 CMD 执行一下命令：<div class="language- extra-class" data-v-2fb828fd><pre class="language-text" data-v-2fb828fd><code data-v-2fb828fd>service.exe install
service.exe start
</code></pre></div></li></ol> <p data-v-2fb828fd>如果 install 时出现如下提示：</p> <div class="language- extra-class" data-v-2fb828fd><pre class="language-text" data-v-2fb828fd><code data-v-2fb828fd>Service with id 'Clash Core Service' already exists
To install the service, delete the existing one or change service Id in the configuration file
2022-09-26 09:37:32,316 FATAL - Unhandled exception
System.Exception: Installation failure: Service with id 'Clash Core Service' already exists
   at WinSW.Program.&lt;Run&gt;g__Install|2_0(&lt;&gt;c__DisplayClass2_0&amp; )
   at WinSW.Program.Run(String[] argsArray, IWinSWConfiguration descriptor)
   at WinSW.Program.Main(String[] args)
System.Exception: Installation failure: Service with id 'Clash Core Service' already exists
   at WinSW.Program.&lt;Run&gt;g__Install|2_0(&lt;&gt;c__DisplayClass2_0&amp; )
   at WinSW.Program.Run(String[] argsArray, IWinSWConfiguration descriptor)
   at WinSW.Program.Main(String[] args)
</code></pre></div><p data-v-2fb828fd>可以先执行：</p> <div class="language- extra-class" data-v-2fb828fd><pre class="language-text" data-v-2fb828fd><code data-v-2fb828fd>service.exe stop
service.exe uninstall
</code></pre></div><p data-v-2fb828fd>如果安装后，Service Mode manage 里显示 active 但图标显示红色，可以进入 <code data-v-2fb828fd>Home Directory</code> 管理员启动 CMD，执行 <code data-v-2fb828fd>icacls.exe service /remove:d Everyone</code> 后手动删除 service 文件夹，重启 APP 即可</p> <div class="outdate-content" data-v-7c029cbe><div class="hint" data-v-7c029cbe>
    部分内容已于 v0.20.0 后过期，点击查看
  </div> <!----></div> <h4 id="macos" data-v-2fb828fd><a href="#macos" class="header-anchor" data-v-2fb828fd>#</a> macOS</h4> <ol data-v-2fb828fd><li data-v-2fb828fd>打开终端</li> <li data-v-2fb828fd>运行以下命令：<div class="language-sh extra-class" data-v-2fb828fd><pre class="language-sh" data-v-2fb828fd><code data-v-2fb828fd><span class="token function" data-v-2fb828fd>curl</span> https://gist.githubusercontent.com/Fndroid/2119fcb5ccb5a543a8f6a609418ae43f/raw/ff63615309a9b3f3e1d682fc29bc73284816422e/mac.sh <span class="token operator" data-v-2fb828fd>&gt;</span> cfw-tun.sh <span class="token operator" data-v-2fb828fd>&amp;&amp;</span> <span class="token function" data-v-2fb828fd>chmod</span> +x cfw-tun.sh <span class="token operator" data-v-2fb828fd>&amp;&amp;</span> <span class="token function" data-v-2fb828fd>sudo</span> ./cfw-tun.sh <span class="token function" data-v-2fb828fd>install</span> <span class="token operator" data-v-2fb828fd>&amp;&amp;</span> <span class="token function" data-v-2fb828fd>rm</span> cfw-tun.sh
</code></pre></div>如要卸载则将 install 改为 uninstall</li></ol> <h4 id="linux" data-v-2fb828fd><a href="#linux" class="header-anchor" data-v-2fb828fd>#</a> linux</h4> <p data-v-2fb828fd><a href="https://github.com/Fndroid/clash_for_windows_pkg/issues/3464" target="_blank" rel="noopener noreferrer" data-v-2fb828fd>参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="macos-版本启动要求授权"><a href="#macos-版本启动要求授权" class="header-anchor">#</a> macOS 版本启动要求授权</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd>在第一次或更新 APP 后打开软件会提示用户授权，这是因为需要安装/更新用于设置系统代理的工具，如果不进行授权，General 中的 System Proxy 开关将无法打开。一般情况下，除非工具更新，否则除了第一次启动外不会重复需要授权。</p></div> <h3 id="macos-dmg-安装后无法打开-提示损坏"><a href="#macos-dmg-安装后无法打开-提示损坏" class="header-anchor">#</a> macOS DMG 安装后无法打开，提示损坏</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd>网络下载应用被 Apple 添加隔离标识，终端输入命令解除即可：</p> <div class="language- extra-class" data-v-2fb828fd><pre class="language-text" data-v-2fb828fd><code data-v-2fb828fd>sudo xattr -r -d com.apple.quarantine /Applications/Clash\ for\ Windows.app
</code></pre></div></div> <h3 id="系统代理自动关闭或打开"><a href="#系统代理自动关闭或打开" class="header-anchor">#</a> 系统代理自动关闭或打开</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd><a href="https://github.com/Fndroid/clash_for_windows_pkg/issues/312" target="_blank" rel="noopener noreferrer" data-v-2fb828fd>参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="general-端口显示为-0"><a href="#general-端口显示为-0" class="header-anchor">#</a> General 端口显示为 0</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd><a href="https://github.com/Fndroid/clash_for_windows_pkg/issues/671" target="_blank" rel="noopener noreferrer" data-v-2fb828fd>参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="killer-系列网卡无法开启-tap-tun-模式"><a href="#killer-系列网卡无法开启-tap-tun-模式" class="header-anchor">#</a> Killer 系列网卡无法开启 TAP/TUN 模式</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd><a href="https://github.com/Fndroid/clash_for_windows_pkg/issues/1243#issuecomment-751165537" target="_blank" rel="noopener noreferrer" data-v-2fb828fd>参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="在-windows-系统中-使用-system-作为-tun-stack-时-clash-网卡无法正常工作"><a href="#在-windows-系统中-使用-system-作为-tun-stack-时-clash-网卡无法正常工作" class="header-anchor">#</a> 在 Windows 系统中，使用 system 作为 TUN stack 时，Clash 网卡无法正常工作</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd>请在系统防火墙中将 clash core 放行。方法参考 <a href="https://docs.cfw.lbyczf.com/contents/tun.html#windows" target="_blank" rel="noopener noreferrer" data-v-2fb828fd>TUN 模式说明<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="在-windows-系统中-tun-模式下无法使用热点分享功能"><a href="#在-windows-系统中-tun-模式下无法使用热点分享功能" class="header-anchor">#</a> 在 Windows 系统中，TUN 模式下无法使用热点分享功能</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <ol data-v-2fb828fd><li data-v-2fb828fd>开启热点分享功能，此时系统网络设置中会生成一个网卡</li> <li data-v-2fb828fd>开启 TUN 模式</li> <li data-v-2fb828fd>进入系统网络设置，在 Clash 网卡右键选择属性，选择共享标签页</li> <li data-v-2fb828fd>勾选“允许其他网络用户通过此计算机的 Internet 连接来连接”</li> <li data-v-2fb828fd>在“家庭网络连接”选择框中选择第 1 步生成的网卡</li></ol></div> <h3 id="软件启动时-tun-创建网卡失败-提示-start-tun-interface-error-error-creating-interface-cannot-create-a-file-when-that-file-already-exists-windows"><a href="#软件启动时-tun-创建网卡失败-提示-start-tun-interface-error-error-creating-interface-cannot-create-a-file-when-that-file-already-exists-windows" class="header-anchor">#</a> 软件启动时，TUN 创建网卡失败，提示 Start Tun interface error: error creating interface: Cannot create a file when that file already exists.（Windows）</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd>临时解决方法：</p> <ol data-v-2fb828fd><li data-v-2fb828fd>进入 Home Directory</li> <li data-v-2fb828fd>编辑 config.yaml，添加如下配置：<div class="language-yaml extra-class" data-v-2fb828fd><pre class="language-yaml" data-v-2fb828fd><code data-v-2fb828fd><span class="token key atrule" data-v-2fb828fd>port</span><span class="token punctuation" data-v-2fb828fd>:</span> <span class="token number" data-v-2fb828fd>7890</span>
<span class="token comment" data-v-2fb828fd># ...</span>
<span class="token comment" data-v-2fb828fd># 添加下面这段👇</span>
<span class="token key atrule" data-v-2fb828fd>tun</span><span class="token punctuation" data-v-2fb828fd>:</span>
  <span class="token key atrule" data-v-2fb828fd>enable</span><span class="token punctuation" data-v-2fb828fd>:</span> <span class="token boolean important" data-v-2fb828fd>true</span>
  <span class="token key atrule" data-v-2fb828fd>stack</span><span class="token punctuation" data-v-2fb828fd>:</span> gvisor
  <span class="token key atrule" data-v-2fb828fd>auto-route</span><span class="token punctuation" data-v-2fb828fd>:</span> <span class="token boolean important" data-v-2fb828fd>false</span>
  <span class="token key atrule" data-v-2fb828fd>auto-detect-interface</span><span class="token punctuation" data-v-2fb828fd>:</span> <span class="token boolean important" data-v-2fb828fd>true</span>
</code></pre></div></li> <li data-v-2fb828fd>重启 CFW</li></ol></div> <h3 id="为什么更新到最新版本后-service-mode-后面的地球变红了"><a href="#为什么更新到最新版本后-service-mode-后面的地球变红了" class="header-anchor">#</a> 为什么更新到最新版本后 Service Mode 后面的地球变红了？</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd>在更新到 <code data-v-2fb828fd>v0.20.0</code> 后， <code data-v-2fb828fd>Service Mode</code> 的安全性有所提高，因此在从 <code data-v-2fb828fd>v0.19.29</code> 及以下版本更新到此版本时, <code data-v-2fb828fd>Service Mode</code> 后面的地球图标可能会显示为红色，请在 Manage 中选择 <code data-v-2fb828fd>Update</code> 或重新安装 TUN 网卡来消除此问题</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Fndroid/clash-win-docs-new/edit/master/docs/contents/questions.md" target="_blank" rel="noopener noreferrer">在Github上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">10/15/2022, 10:32:54 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/contents/header.html" class="prev">
        自定义请求头
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.cc8203df.js" defer></script><script src="/assets/js/3.0b6bb79a.js" defer></script><script src="/assets/js/38.01de9e8e.js" defer></script><script src="/assets/js/9.f2385138.js" defer></script><script src="/assets/js/8.031107e6.js" defer></script>
  </body>
</html>
